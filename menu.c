#include <stdio.h>
#include <stdlib.h>
#include <time.h>
#include "vehicule.h"
#include "random.h"
#include "Interface.h"

void afficherMenuPrincipal(){
    
    printf("\t\t\t\t\t\t░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░\n");
    printf("\t\t\t\t\t\t░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░\n");
    printf("\t\t\t\t\t\t░▄▄▄░▄▄▄░▄▄▄░▄▄▄░▄▄▄░▄▄▄░▄▄▄░▄▄▄░▄▄▄░▄▄▄░▄▄▄░▄▄▄░▄▄▄░▄▄▄░▄▄▄░▄▄▄░▄▄▄░▄▄▄░▄▄▄░▄▄▄░▄▄▄░\n");
    printf("\t\t\t\t\t\t░█░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░█░\n");
    printf("\t\t\t\t\t\t░█░▀█▀░█▀█░█▀█░░░█▀▀░█░█░█▀█░█▀▀░█▀█░█▀▀░▀█▀░█░█░█▀▀░░░█▀█░█▀█░█▀▄░█░█░▀█▀░█▀█░█▀▀░█░\n");
    printf("\t\t\t\t\t\t░█░░█░░█░█░█░█░░░█▀▀░▄▀▄░█▀▀░█▀▀░█░█░▀▀█░░█░░▀▄▀░█▀▀░░░█▀▀░█▀█░█▀▄░█▀▄░░█░░█░█░█░█░█░\n");
    printf("\t\t\t\t\t\t░█░░▀░░▀▀▀░▀▀▀░░░▀▀▀░▀░▀░▀░░░▀▀▀░▀░▀░▀▀▀░▀▀▀░░▀░░▀▀▀░░░▀░░░▀░▀░▀░▀░▀░▀░▀▀▀░▀░▀░▀▀▀░█░\n");
    printf("\t\t\t\t\t\t░█░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░█░\n");
    printf("\t\t\t\t\t\t░▄▄▄░▄▄▄░▄▄▄░▄▄▄░▄▄▄░▄▄▄░▄▄▄░▄▄▄░▄▄▄░▄▄▄░▄▄▄░▄▄▄░▄▄▄░▄▄▄░▄▄▄░▄▄▄░▄▄▄░▄▄▄░▄▄▄░▄▄▄░▄▄▄░\n");
    printf("\t\t\t\t\t\t░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░\n");
    printf("\t\t\t\t\t\t░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░\n");
    printf("\t\t\t\t\t\t░░░░░░░░░░░░░░░░░▀█░░░░░░░█▄█░█▀█░█▀▄░█▀▀░░░█▀▀░▀█▀░█▄█░█▀█░█░░░█▀▀░░░░░░░░░░░░░░░░░░\n");
    printf("\t\t\t\t\t\t░░░░░░░░░░░░░░░░░░█░░░░░░░█░█░█░█░█░█░█▀▀░░░▀▀█░░█░░█░█░█▀▀░█░░░█▀▀░░░░░░░░░░░░░░░░░░\n");
    printf("\t\t\t\t\t\t░░░░░░░░░░░░░░░░░▀▀▀░▀░░░░▀░▀░▀▀▀░▀▀░░▀▀▀░░░▀▀▀░▀▀▀░▀░▀░▀░░░▀▀▀░▀▀▀░░░░░░░░░░░░░░░░░░\n");
    printf("\t\t\t\t\t\t░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░\n");
    printf("\t\t\t\t\t\t░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░\n");
    printf("\t\t\t\t\t\t░░░░░░░░░░░░░░░░░░▀▀▄░░░░░░█▄█░█▀█░█▀▄░█▀▀░░░█▀▀░█░█░▀█▀░█▀▄░█▀▀░█▄█░█▀▀░░█░█░░░░░░░░\n");
    printf("\t\t\t\t\t\t░░░░░░░░░░░░░░░░░░▄▀░░░░░░░█░█░█░█░█░█░█▀▀░░░█▀▀░▄▀▄░░█░░█▀▄░█▀▀░█░█░█▀▀░░▀░▀░░░░░░░░\n");
    printf("\t\t\t\t\t\t░░░░░░░░░░░░░░░░░░▀▀▀░▀░░░░▀░▀░▀▀▀░▀▀░░▀▀▀░░░▀▀▀░▀░▀░░▀░░▀░▀░▀▀▀░▀░▀░▀▀▀░░▀░▀░░░░░░░░\n");
    printf("\t\t\t\t\t\t░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░\n");
    printf("\t\t\t\t\t\t░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░\n");
    printf("\t\t\t\t\t\t░░░░░░░░░░░░░░░░░░▀▀█░░░░░░▄▀▄░█░█░▀█▀░▀█▀░▀█▀░█▀▀░█▀▄░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░\n");
    printf("\t\t\t\t\t\t░░░░░░░░░░░░░░░░░░░▀▄░░░░░░█\\█░█░█░░█░░░█░░░█░░█▀▀░█▀▄░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░\n");
    printf("\t\t\t\t\t\t░░░░░░░░░░░░░░░░░░▀▀▀░▀░░░░░▀\\░▀▀▀░▀▀▀░░▀░░░▀░░▀▀▀░▀░▀░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░\n");
    printf("\t\t\t\t\t\t░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░\n");

    char Map [MAX_ROWS][MAX_COLS];
        int rows = 0;
        int cols = 0;

    int choix;

do {
    if (scanf("%d", &choix) != 1) {
        int c;
        while ((c = getchar()) != '\n' && c != EOF) {}
        choix = 0;
    }

    if (choix != 1 && choix != 2 && choix != 3) {
        printf("Choix invalide. Veuillez reessayer.\n");
    }

} while (choix != 1 && choix != 2 && choix != 3);

if (choix == 1) {
    srand((unsigned)time(NULL));
    Vehicule *liste = NULL;
    random_car(&liste);
    interface("Map_1.txt", Map, &rows, &cols, liste, 24, 70);
    libererliste(&liste);
}
else if (choix == 2) {
    srand((unsigned)time(NULL));
    Vehicule *liste = NULL;
    random_car(&liste);
    interface("Map_1.txt", Map, &rows, &cols, liste, 10, 100);
    libererliste(&liste);
}
else { 
    printf("Fermeture du programme...\n");
}
return;

}